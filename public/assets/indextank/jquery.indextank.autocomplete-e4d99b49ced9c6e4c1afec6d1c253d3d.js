!function(t){t.Indextank||(t.Indextank=new Object),t.Indextank.Autocomplete=function(e,i){var n=this;n.$el=t(e),n.el=e,n.$el.data("Indextank.Autocomplete",n),n.init=function(){n.options=t.extend({},t.Indextank.Autocomplete.defaultOptions,i);var e=t(n.el.form).data("Indextank.Ize");n.$el.autocomplete({select:function(e,i){e.target.value=i.item.value,t(e.target.form).submit()},source:function(i,s){t.ajax({url:e.apiurl+"/v1/indexes/"+e.indexName+"/autocomplete",dataType:"jsonp",data:{query:i.term,field:n.options.fieldName},success:function(t){s(t.suggestions),n.$el.trigger("Indextank.Autocomplete.success",[t.suggestions])}})},minLength:n.options.minLength,delay:n.options.delay}),e.$el.submit(function(){n.$el.data("autocomplete").close()}),n.$el.bind("Indextank.AjaxSearch.searching",function(){})},n.init()},t.Indextank.Autocomplete.defaultOptions={fieldName:"text",minLength:2,delay:100},t.fn.indextank_Autocomplete=function(e){return this.each(function(){new t.Indextank.Autocomplete(this,e)})},t.fn.getIndextank_Autocomplete=function(){this.data("Indextank.Autocomplete")}}(jQuery);